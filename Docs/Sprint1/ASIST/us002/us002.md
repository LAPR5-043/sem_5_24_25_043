# US 002 - Administração de Sistemas


## 1. Context

This task is a new feature being developed for the first time. The goal is to enhance the user experience by providing a personalized welcome message upon successful login to the Linux terminal.

## 2. Requirements


**US ASIST-002** Como administrador do sistema quero alterar a informação apresentada no terminal do sistema Linux após me autenticar, alterando a informação por omissão por uma mais criativa que contenha obrigatoriamente a data e o nome do utilizador

**Acceptance Criteria:**

- ASIST-002.1. The system shall present a welcome message with the user name and the current date.
- ASIST-002.2. The message shall be displayed in the terminal after the user logs in.


**Dependencies/References:**

*N/A*

## 3. Analysis

### 3.1. Requirement

The system shall present a welcome message with the user name and the current date after the user logs in. This message should be displayed in the terminal after the user logs in. The message should be displayed in a creative way, with the user name and the current date.

### 3.2. Research

After some research, there are two main ways to implement this feature: using **`/etc/motd`** or **`/etc/profile`**.

#### 3.2.1. What is `/etc/motd`?

The **`/etc/motd`** (Message of the Day) file is a static or dynamically generated file that displays a message to users immediately after they log in. This message is shown before any shell session is started. It is often used for system-wide notifications or welcome messages. Modern Linux systems may generate the content of `/etc/motd` dynamically using scripts located in **`/etc/update-motd.d/`**, allowing more customization.

However, **`/etc/motd`** only displays text and doesn’t have the ability to execute commands or scripts directly to modify the shell environment or provide dynamic outputs such as the current user’s name or the date.

#### 3.2.2. What is `/etc/profile`?

The **`/etc/profile`** file is a global configuration file used for defining system-wide environment variables and startup scripts that run for all users when they log in. It is executed every time a user initiates a **login shell** (e.g., SSH or terminal login).

Unlike `/etc/motd`, the **`/etc/profile`** file can execute shell commands and scripts, making it possible to display dynamic messages, such as the current user’s name or the system date and time. This file also allows for more advanced shell configurations and environment setups.

#### 3.2.3. Difference between `/etc/motd` and `/etc/profile`

The key differences between **`/etc/motd`** and **`/etc/profile`** are:

- **`/etc/motd`** displays a static or dynamically generated message immediately after login. It’s simple and only shows text, without the ability to execute shell commands dynamically for each user.
- **`/etc/profile`** is used for system-wide configuration and can execute scripts, making it more flexible for displaying dynamic messages that include real-time data, such as the user’s name and the current date.

### 3.3. Decision

Based on the requirement that the message should display dynamic information like the user’s name and the current date after login, it was decided to use the **`/etc/profile`** file. This approach ensures the message is dynamic and meets the need for customization at each login session.

## 4. Implementation

### 4.1. Script Creation

First, we need to create a script that displays the required information after a user logs in. The script can be found [here](./login_display_allUsers.sh).
### 4.2. Adding the Script

Next, we add the created script to the `/etc/profile.d` directory. This step is crucial to avoid polluting the `/etc/profile` file.

### 4.3. Granting Execution Permissions

After adding the script file, we need to grant it execution permissions. This step ensures that the script can run successfully.

### 4.4. Utilizing `/etc/profile`

The `/etc/profile` file already contains a line that sources all scripts in the `/etc/profile.d` directory. Therefore, by placing our script in this directory, we ensure it is executed upon user login.

## 5. Integration/Demonstration

*In this section the team should describe the efforts realized in order to integrate this functionality with the other parts/components of the system*

*It is also important to explain any scripts or instructions required to execute an demonstrate this functionality*

## 6. Observations

This feature is presented to the user only when a login shell is activated. We could have implemented it in the `.bashrc` file, but that would make the message appear every time a new shell is opened, which is not the desired behavior.

So, when a user changes from one user to another after logging in, this feature will not be triggered. This is because the `/etc/profile` file is only executed when a login shell is activated.